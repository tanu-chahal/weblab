<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Force Color Profile Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        
        .color-swatches {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .color-swatch {
            height: 80px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }
        
        .gradient-test {
            height: 100px;
            background: linear-gradient(45deg, 
                #ff0000, #ff8000, #ffff00, #80ff00, 
                #00ff00, #00ff80, #00ffff, #0080ff, 
                #0000ff, #8000ff, #ff00ff, #ff0080);
            border-radius: 5px;
            margin: 10px 0;
        }
        
        .image-test {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .test-image {
            width: 100%;
            height: 150px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
        }
        
        .instructions {
            background: #e8f4f8;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .command-example {
            background: #f0f0f0;
            padding: 10px;
            border-radius: 3px;
            font-family: monospace;
            margin: 10px 0;
            border-left: 4px solid #007acc;
        }
        
        .color-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .info-card {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #007acc;
        }
        
        .info-card h4 {
            margin: 0 0 10px 0;
            color: #333;
        }
        
        .info-card p {
            margin: 5px 0;
            font-size: 14px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Force Color Profile Test</h1>
        
        <div class="instructions">
            <h3>How to Test</h3>
            <p>To test different color profiles, launch your browser with the <code>--force-color-profile</code> flag:</p>
            
            <div class="command-example">
                # Chrome/Chromium examples:<br>
                chrome --force-color-profile=srgb<br>
                chrome --force-color-profile=display-p3<br>
                chrome --force-color-profile=rec2020<br>
                chrome --force-color-profile=prophoto-rgb
            </div>
            
            <p><strong>Note:</strong> Close all browser instances before launching with these flags. Compare how colors appear under different profiles.</p>
        </div>
        
        <div class="test-section">
            <h3>Primary Color Swatches</h3>
            <p>These pure colors should appear differently under various color profiles:</p>
            <div class="color-swatches">
                <div class="color-swatch" style="background-color: #ff0000;">Red</div>
                <div class="color-swatch" style="background-color: #00ff00;">Green</div>
                <div class="color-swatch" style="background-color: #0000ff;">Blue</div>
                <div class="color-swatch" style="background-color: #ffff00; color: black;">Yellow</div>
                <div class="color-swatch" style="background-color: #ff00ff;">Magenta</div>
                <div class="color-swatch" style="background-color: #00ffff; color: black;">Cyan</div>
            </div>
        </div>
        
        <div class="test-section">
            <h3>Saturated Colors</h3>
            <p>Highly saturated colors that may appear differently in wide gamut profiles:</p>
            <div class="color-swatches">
                <div class="color-swatch" style="background-color: #ff1744;">Vivid Red</div>
                <div class="color-swatch" style="background-color: #00e676;">Vivid Green</div>
                <div class="color-swatch" style="background-color: #2979ff;">Vivid Blue</div>
                <div class="color-swatch" style="background-color: #ff6d00;">Vivid Orange</div>
                <div class="color-swatch" style="background-color: #e91e63;">Vivid Pink</div>
                <div class="color-swatch" style="background-color: #9c27b0;">Vivid Purple</div>
            </div>
        </div>
        
        <div class="test-section">
            <h3>Gradient Test</h3>
            <p>Full spectrum gradient showing color transitions:</p>
            <div class="gradient-test"></div>
        </div>
        
        <div class="test-section">
            <h3>CSS Color Spaces</h3>
            <p>Colors using different CSS color space functions (modern browsers):</p>
            <div class="color-swatches">
                <div class="color-swatch" style="background-color: color(display-p3 1 0 0);">P3 Red</div>
                <div class="color-swatch" style="background-color: color(display-p3 0 1 0);">P3 Green</div>
                <div class="color-swatch" style="background-color: color(display-p3 0 0 1);">P3 Blue</div>
                <div class="color-swatch" style="background-color: color(rec2020 1 0 0);">Rec2020 Red</div>
                <div class="color-swatch" style="background-color: color(rec2020 0 1 0);">Rec2020 Green</div>
                <div class="color-swatch" style="background-color: color(rec2020 0 0 1);">Rec2020 Blue</div>
            </div>
        </div>
        
        <div class="test-section">
            <h3>Background Images with Colors</h3>
            <p>Photographic-style backgrounds to test color rendering:</p>
            <div class="image-test">
                <div class="test-image" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    Purple Gradient
                </div>
                <div class="test-image" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                    Pink Gradient
                </div>
                <div class="test-image" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                    Blue Gradient
                </div>
                <div class="test-image" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                    Green Gradient
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <h3>Color Profile Information</h3>
            <div class="color-info">
                <div class="info-card">
                    <h4>sRGB</h4>
                    <p>Standard RGB color space used by most displays and web content. Limited color gamut.</p>
                </div>
                <div class="info-card">
                    <h4>Display P3</h4>
                    <p>Wider color gamut used by modern displays. More vivid colors, especially reds and greens.</p>
                </div>
                <div class="info-card">
                    <h4>Rec2020</h4>
                    <p>Ultra-wide color gamut for future displays. Theoretical maximum for most current hardware.</p>
                </div>
                <div class="info-card">
                    <h4>ProPhoto RGB</h4>
                    <p>Very wide gamut color space used in professional photography workflows.</p>
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <h3>Detection Script</h3>
            <div id="color-profile-info">
                <p>Loading color profile information...</p>
            </div>
        </div>
    </div>
    
    <script>
        // Detect and display color profile information
        function detectColorProfile() {
            const infoDiv = document.getElementById('color-profile-info');
            let info = '<h4>Browser Color Profile Detection:</h4>';
            
            // Check for various color space support
            const tests = [
                { name: 'sRGB', css: 'color(srgb 1 0 0)' },
                { name: 'Display P3', css: 'color(display-p3 1 0 0)' },
                { name: 'Rec2020', css: 'color(rec2020 1 0 0)' },
                { name: 'ProPhoto RGB', css: 'color(prophoto-rgb 1 0 0)' }
            ];
            
            info += '<ul>';
            tests.forEach(test => {
                const supported = CSS.supports('color', test.css);
                info += `<li><strong>${test.name}:</strong> ${supported ? '✅ Supported' : '❌ Not supported'}</li>`;
            });
            info += '</ul>';
            
            // Check screen color depth
            if (screen.colorDepth) {
                info += `<p><strong>Screen Color Depth:</strong> ${screen.colorDepth} bits</p>`;
            }
            
            // Check for wide gamut support
            if (window.matchMedia) {
                const wideGamut = window.matchMedia('(color-gamut: p3)').matches;
                const srgb = window.matchMedia('(color-gamut: srgb)').matches;
                const rec2020 = window.matchMedia('(color-gamut: rec2020)').matches;
                
                info += '<p><strong>Media Query Results:</strong></p><ul>';
                info += `<li>sRGB: ${srgb ? '✅' : '❌'}</li>`;
                info += `<li>P3 Wide Gamut: ${wideGamut ? '✅' : '❌'}</li>`;
                info += `<li>Rec2020: ${rec2020 ? '✅' : '❌'}</li>`;
                info += '</ul>';
            }
            
            infoDiv.innerHTML = info;
        }
        
        // Run detection when page loads
        document.addEventListener('DOMContentLoaded', detectColorProfile);
    </script>
</body>
</html>